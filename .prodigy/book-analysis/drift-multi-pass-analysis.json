{
  "item_type": "chapter",
  "chapter_id": "multi-pass-analysis",
  "chapter_title": "Multi-Pass Analysis",
  "chapter_file": "book/src/multi-pass-analysis.md",
  "drift_detected": true,
  "severity": "low",
  "quality_assessment": "Excellent comprehensive documentation with high accuracy. The chapter thoroughly covers multi-pass analysis concepts, implementation details, and practical usage. All major features are documented correctly with accurate code references. Only one minor issue found: incorrect --json flag usage in CLI example (should be --format json). All cross-references are valid.",
  "issues": [
    {
      "type": "incorrect_example",
      "severity": "low",
      "section": "CLI Usage",
      "description": "Example on line 84 shows using --json flag which doesn't exist in debtmap CLI",
      "current_content": "debtmap analyze . --multi-pass --attribution --json",
      "should_be": "debtmap analyze . --multi-pass --attribution --format json",
      "fix_suggestion": "Update line 84 to use correct flag: --format json instead of --json. The --format flag is defined in src/cli.rs:51-56",
      "source_reference": "src/cli.rs:51-56 (format flag), src/cli.rs:192-198 (multi-pass flags)"
    },
    {
      "type": "correct_content",
      "severity": "none",
      "section": "Cross-References",
      "description": "All 4 internal documentation links verified as valid",
      "broken_links": [],
      "validated_links": [
        "analysis-guide.md (exists: book/src/analysis-guide.md)",
        "scoring-strategies.md (exists: book/src/scoring-strategies.md)",
        "coverage-integration.md (exists: book/src/coverage-integration.md)",
        "examples.md (exists: book/src/examples.md)"
      ],
      "fix_suggestion": "No fix needed - all cross-references are valid"
    }
  ],
  "positive_aspects": [
    "Comprehensive coverage of multi-pass analysis feature with clear conceptual explanations",
    "Excellent visual diagram (lines 19-49) explaining two-pass analysis process",
    "Accurate CLI flag documentation: --multi-pass, --attribution, --detail-level (matching src/cli.rs:192-202)",
    "Correct OutputFormat enum values: Json, Yaml, Markdown, Html, Text (matching src/analysis/diagnostics/mod.rs:123-129)",
    "Correct DetailLevel enum values: Summary, Standard, Comprehensive, Debug (matching src/analysis/diagnostics/mod.rs:93-98)",
    "Accurate MultiPassOptions struct documentation (matching src/analysis/multi_pass.rs:302-310)",
    "Correct compare_complexity function signature and usage (matching src/analysis/multi_pass.rs:532-541)",
    "Accurate ComparativeAnalysis struct definition (matching src/analysis/multi_pass.rs:544-551)",
    "Performance overhead target (â‰¤25%) correctly documented (matching src/analysis/multi_pass.rs:94-99)",
    "Memory usage estimation caveat properly noted on line 425 (matching simplified implementation src/analysis/multi_pass.rs:112-119)",
    "Proper reference to Spec 84 with accurate description of planned improvements (specs/84-detailed-ast-source-mapping.md exists)",
    "Excellent real-world Rust code examples demonstrating formatting artifacts (lines 118-208)",
    "Detailed sample attribution output (lines 253-301) showing practical usage",
    "Clear guidance on when to use multi-pass vs standard analysis (lines 603-642)",
    "Comprehensive performance considerations section (lines 404-478)",
    "Pattern complexity automatically included - correctly noted on line 67",
    "All cross-reference links verified as valid (lines 707-710)"
  ],
  "improvement_suggestions": [
    "Add troubleshooting section for common multi-pass analysis issues (high overhead, performance tuning)",
    "Include example of complete JSON output structure for tool integration",
    "Consider adding performance comparison table across different codebase sizes",
    "Could add more detail on how normalization handles different formatting patterns",
    "Add guidance on interpreting pattern confidence scores in practice",
    "Consider adding CI/CD integration best practices for multi-pass analysis",
    "Could include example of using multi-pass analysis in automated refactoring workflows"
  ],
  "metadata": {
    "analyzed_at": "2025-11-13T07:20:00Z",
    "feature_inventory": ".prodigy/book-analysis/features.json",
    "topics_covered": [
      "Multi-pass analysis overview",
      "Complexity attribution (logical, formatting, pattern)",
      "Attribution display options and detail levels",
      "Configuration and usage (CLI and programmatic)",
      "Performance considerations and overhead monitoring",
      "Comparative analysis",
      "Insights and recommendations generation",
      "Future enhancements (Spec 84)"
    ],
    "validation_focus": "Check that multi-pass analysis and attribution features are documented",
    "total_internal_links_found": 4,
    "broken_internal_links": 0,
    "all_cross_references_valid": true,
    "code_references_verified": [
      "src/analysis/multi_pass.rs:302-310 (MultiPassOptions)",
      "src/analysis/multi_pass.rs:532-541 (compare_complexity)",
      "src/analysis/multi_pass.rs:544-551 (ComparativeAnalysis)",
      "src/analysis/multi_pass.rs:94-99 (overhead warning)",
      "src/analysis/multi_pass.rs:112-119 (memory estimation)",
      "src/analysis/diagnostics/mod.rs:93-98 (DetailLevel)",
      "src/analysis/diagnostics/mod.rs:123-129 (OutputFormat)",
      "src/cli.rs:192-202 (CLI flags)",
      "specs/84-detailed-ast-source-mapping.md (future spec)"
    ],
    "verified_features": [
      "MultiPassAnalyzer and MultiPassOptions configuration",
      "ComplexityAttribution with logical/formatting/pattern breakdown",
      "DetailLevel variants (Summary, Standard, Comprehensive, Debug)",
      "OutputFormat variants (Json, Yaml, Markdown, Html, Text)",
      "ComparativeAnalysis structure and compare_complexity function",
      "Performance metrics tracking and 25% overhead target",
      "Attribution engine with automatic pattern tracking",
      "CLI flags: --multi-pass, --attribution, --detail-level"
    ],
    "accuracy_assessment": "Very high - comprehensive documentation with only one minor CLI flag error"
  }
}
