{
  "chapter_id": "troubleshooting",
  "chapter_title": "Troubleshooting",
  "chapter_file": "book/src/troubleshooting.md",
  "drift_detected": true,
  "severity": "low",
  "quality_assessment": "Chapter is exceptionally comprehensive and accurate with excellent coverage of common user issues. The troubleshooting content is well-organized, practical, and user-focused. Only minor gaps exist for newer features added since the last update (functional analysis, boilerplate detection, call graph debugging, validate-improvement command). Overall quality is very high at ~90% completeness.",
  "issues": [
    {
      "type": "outdated_information",
      "severity": "low",
      "section": "Debug Mode - Line 273",
      "description": "Chapter mentions '--explain-score' flag as deprecated. Flag is now hidden in CLI and should be removed or noted as hidden",
      "current_content": "**Note**: The `--explain-score` flag is deprecated and hidden. Use `-v`, `-vv`, or `-vvv` for verbosity levels instead to see score breakdowns.",
      "should_be": "Remove mention entirely or add note: 'The --explain-score flag has been removed. Use -v/-vv/-vvv instead.'",
      "fix_suggestion": "Line 273 correctly notes deprecation. Consider removing this note entirely since the flag is hidden.",
      "source_reference": "features.json:best_practices.debugging - lists -v, -vv, -vvv as standard debugging flags"
    },
    {
      "type": "outdated_information",
      "severity": "low",
      "section": "Performance Tips - Caching - Line 334",
      "description": "Chapter correctly notes --cache flag is deprecated and hidden, which aligns with current implementation",
      "current_content": "**Note**: The `--cache` flag (to enable caching) is deprecated and hidden. Caching is now always enabled by default; use `--no-cache` to disable it.",
      "should_be": "Current content is correct",
      "fix_suggestion": "No changes needed - this is accurate per features.json which shows caching enabled by default",
      "source_reference": "features.json:configuration.defaults.caching = true"
    },
    {
      "type": "missing_content",
      "severity": "low",
      "section": "Advanced Analysis Troubleshooting",
      "description": "Chapter is missing documentation for --show-attribution flag (uses --attribution incorrectly)",
      "current_content": "debtmap --attribution (line 698)",
      "should_be": "debtmap --show-attribution",
      "fix_suggestion": "Update lines 698 and 701 to use correct flag name: --show-attribution per features.json",
      "source_reference": "features.json:cli_commands.analyze.advanced_analysis includes 'show-attribution'"
    },
    {
      "type": "missing_content",
      "severity": "low",
      "section": "Advanced Analysis Troubleshooting - Aggregation Methods - Line 709",
      "description": "Chapter lists aggregation methods but should confirm all four are documented",
      "current_content": "Lines 709-721 show: weighted_sum, sum, logarithmic_sum, max_plus_average",
      "should_be": "Current list is complete and accurate",
      "fix_suggestion": "No changes needed - all four methods from features.json are documented",
      "source_reference": "features.json:cli_commands.analyze.advanced_analysis.aggregation-method"
    },
    {
      "type": "missing_content",
      "severity": "low",
      "section": "Advanced Analysis Troubleshooting - Detail Level",
      "description": "Chapter documents --detail-level flag comprehensively at lines 771-788",
      "current_content": "Lines 771-788 document summary, standard, comprehensive, debug levels",
      "should_be": "Current content is complete",
      "fix_suggestion": "No changes needed - this section is complete and accurate",
      "source_reference": "features.json:cli_commands.analyze.advanced_analysis.detail-level"
    },
    {
      "type": "missing_content",
      "severity": "low",
      "section": "Advanced Analysis Troubleshooting - Aggregation Control",
      "description": "Chapter documents --aggregate-only and --no-aggregation at lines 791-809",
      "current_content": "Lines 791-809 fully document both flags with use cases",
      "should_be": "Current content is complete",
      "fix_suggestion": "No changes needed - aggregation control is well documented",
      "source_reference": "features.json:cli_commands.analyze.advanced_analysis (aggregate-only, no-aggregation)"
    },
    {
      "type": "missing_content",
      "severity": "low",
      "section": "Compare Command Issues - Targeted Comparison",
      "description": "Chapter documents --plan and --target-location flags at lines 1407-1427",
      "current_content": "Lines 1407-1427 show both flags with examples",
      "should_be": "Current content is complete",
      "fix_suggestion": "No changes needed - compare command flags are well documented",
      "source_reference": "features.json:cli_commands.compare.options includes plan and target-location"
    },
    {
      "type": "missing_content",
      "severity": "low",
      "section": "Compare Command Issues - Default Format",
      "description": "Chapter notes that compare defaults to JSON at line 1389",
      "current_content": "Line 1389: '**Note**: The `compare` command defaults to JSON output format'",
      "should_be": "Current content is correct",
      "fix_suggestion": "No changes needed - default format is correctly documented",
      "source_reference": "features.json:cli_commands.compare mentions format option"
    },
    {
      "type": "missing_content",
      "severity": "low",
      "section": "Validate Command Issues",
      "description": "Chapter has comprehensive validate command section at lines 1491-1561 including --max-debt-density",
      "current_content": "Lines 1491-1561 document validate command with debt density validation",
      "should_be": "Current content is complete",
      "fix_suggestion": "No changes needed - validate command is well documented",
      "source_reference": "features.json:cli_commands.validate includes max-debt-density"
    },
    {
      "type": "missing_content",
      "severity": "low",
      "section": "Call Graph Debugging",
      "description": "Chapter doesn't document call graph debugging flags from features.json",
      "should_add": "Add subsection for call graph troubleshooting with flags: --debug-call-graph, --trace-functions, --call-graph-stats-only, --debug-format (text/json), --validate-call-graph, --show-dependencies, --no-dependencies, --max-callers, --max-callees, --show-external, --show-std-lib",
      "fix_suggestion": "Add new subsection 'Call Graph Troubleshooting' under Advanced Analysis with examples of when to use these debugging flags",
      "source_reference": "features.json:cli_commands.analyze.call_graph"
    },
    {
      "type": "missing_content",
      "severity": "low",
      "section": "Functional Analysis Troubleshooting",
      "description": "Chapter doesn't document functional analysis flags",
      "should_add": "Add subsection for functional analysis: --ast-functional-analysis, --functional-analysis-profile (strict/balanced/lenient)",
      "fix_suggestion": "Add 'Functional Analysis Issues' subsection explaining when functional analysis might flag issues and how to adjust the profile",
      "source_reference": "features.json:cli_commands.analyze.functional_analysis"
    },
    {
      "type": "missing_content",
      "severity": "low",
      "section": "Pattern Detection Troubleshooting",
      "description": "Chapter doesn't document pattern detection flags",
      "should_add": "Add subsection documenting: --no-pattern-detection, --patterns, --pattern-threshold, --show-pattern-warnings",
      "fix_suggestion": "Add 'Pattern Detection Issues' subsection with examples of when pattern detection causes false positives and how to adjust thresholds",
      "source_reference": "features.json:cli_commands.analyze.advanced_analysis (pattern flags)"
    },
    {
      "type": "missing_content",
      "severity": "low",
      "section": "Public API Detection Issues",
      "description": "Chapter doesn't document public API detection flags",
      "should_add": "Document --no-public-api-detection and --public-api-threshold for when public API detection causes issues",
      "fix_suggestion": "Add 'Public API Detection Issues' subsection explaining when to disable or adjust thresholds",
      "source_reference": "features.json:cli_commands.analyze.advanced_analysis"
    },
    {
      "type": "missing_content",
      "severity": "low",
      "section": "Validate-Improvement Command",
      "description": "Chapter doesn't document validate-improvement command",
      "should_add": "Add section for validate-improvement command with flags: --comparison, --output, --previous-validation, --threshold, --format, --quiet",
      "fix_suggestion": "Add 'Validate-Improvement Command Issues' section after Validate Command Issues (around line 1561)",
      "source_reference": "features.json:cli_commands.validate-improvement"
    },
    {
      "type": "missing_content",
      "severity": "low",
      "section": "Boilerplate Detection Issues",
      "description": "Chapter doesn't document boilerplate detection troubleshooting",
      "should_add": "Add section explaining boilerplate detection for trait patterns, macro recommendations, and when repetitive code is legitimately boilerplate vs actual complexity",
      "fix_suggestion": "Add 'Boilerplate Detection Issues' subsection explaining detection thresholds and how to handle false positives in trait implementations",
      "source_reference": "features.json:boilerplate_detection"
    },
    {
      "type": "incomplete_explanation",
      "severity": "low",
      "section": "Complexity Metrics Terminology",
      "description": "Chapter doesn't clarify that 'est_branches' is an estimated metric, not measured",
      "should_add": "Add terminology note: est_branches = max(nesting_depth, 1) ร cyclomatic_complexity รท 3 (formula-based estimate for testing effort, not AST count)",
      "fix_suggestion": "Add to FAQ or debug section: clarify measured metrics (cyclomatic, cognitive, nesting, LOC, parameters) vs estimated metrics (est_branches)",
      "source_reference": "features.json:core_analysis.complexity_metrics.estimated_metrics.est_branches"
    },
    {
      "type": "incomplete_explanation",
      "severity": "low",
      "section": "God Object Detection - Lines 751-927",
      "description": "Chapter explains god object detection well but doesn't distinguish types or document newer responsibility analysis metrics",
      "current_content": "Lines 751-927 cover god object detection comprehensively",
      "should_add": "Clarify three types: god_class (excludes tests), god_file (includes tests), god_module (alias for god_file). Add spec 140 metrics: domain_count, domain_diversity, struct_ratio, cross_domain_severity, module_splits recommendations",
      "fix_suggestion": "Expand section with type distinctions and newer responsibility analysis metrics",
      "source_reference": "features.json:responsibility_analysis.god_object_detection"
    },
    {
      "type": "missing_content",
      "severity": "low",
      "section": "Environment Variables",
      "description": "Chapter documents cache environment variables excellently (lines 466-500) but doesn't mention other debtmap environment variables",
      "should_add": "Document additional environment variables: DEBTMAP_CONTEXT_AWARE, DEBTMAP_FUNCTIONAL_ANALYSIS, PRODIGY_AUTOMATION, PRODIGY_VALIDATION",
      "fix_suggestion": "Add 'Environment Variables' subsection listing all available environment variables for troubleshooting configuration issues",
      "source_reference": "features.json:configuration.environment_variables"
    }
  ],
  "positive_aspects": [
    "Exceptionally comprehensive coverage of common user issues with 1931 lines of detailed troubleshooting guidance",
    "Excellent organization: Quick Fixes section at top (lines 5-13) provides immediate value",
    "Very thorough cache management documentation including pruning strategies (lines 466-500)",
    "Comprehensive scoring formula explanation with coverage penalties well documented (lines 1649-1743)",
    "Outstanding context provider troubleshooting section (lines 535-665)",
    "Excellent language-specific sections for Rust, Python, JavaScript, TypeScript (lines 1112-1203)",
    "Well-written FAQ addressing real user questions (lines 1562-1870)",
    "Clear troubleshooting checklist for systematic debugging (lines 1916-1931)",
    "Good integration of error messages reference section (lines 945-1086)",
    "Entropy analysis configuration thoroughly documented (lines 1207-1243)",
    "Compare command issues comprehensively covered including format compatibility (lines 1382-1489)",
    "Validate command with debt density validation well explained (lines 1491-1561)",
    "Performance tips section is practical and actionable (lines 307-412)",
    "Debug mode section clearly explains all verbosity levels (lines 232-305)",
    "Advanced analysis flags documented with appropriate use cases (lines 667-943)",
    "Tiered prioritization well explained (lines 811-869)",
    "File-level scoring aggregation methods documented (lines 870-927)",
    "Output formatting issues comprehensively covered (lines 1257-1381)",
    "All deprecated flags correctly noted (--cache, --explain-score)",
    "Detail level control documented (lines 771-788)",
    "Aggregation control flags documented (lines 791-809)",
    "Compare targeted comparison flags documented (lines 1407-1427)",
    "Compare default format noted (line 1389)",
    "When to file bug reports section is helpful (lines 1871-1905)"
  ],
  "improvement_suggestions": [
    "Add call graph debugging subsection with 11 flags from features.json (highest priority)",
    "Add functional analysis troubleshooting subsection with profile options",
    "Add pattern detection troubleshooting subsection",
    "Add public API detection troubleshooting subsection",
    "Add validate-improvement command documentation",
    "Add boilerplate detection troubleshooting section",
    "Add environment variables reference section (beyond just cache)",
    "Clarify measured vs estimated metrics terminology (est_branches)",
    "Expand god object section with type distinctions and spec 140 metrics",
    "Fix --attribution to --show-attribution throughout (lines 698, 701)",
    "Add 'New Features' section for users upgrading versions",
    "Consider adding timestamps on sections showing when features were added",
    "Add more CI/CD integration troubleshooting scenarios",
    "Include common .debtmap/config.toml mistakes section"
  ],
  "metadata": {
    "analyzed_at": "2025-11-06",
    "feature_inventory": ".prodigy/book-analysis/features.json",
    "topics_covered": [
      "Quick fixes for common issues",
      "Parse errors and solutions",
      "Out of memory errors",
      "Performance optimization",
      "Cache management and troubleshooting",
      "File permission errors",
      "Git history errors",
      "Coverage file integration",
      "Threshold configuration",
      "JSON format variants (legacy vs unified)",
      "Context provider troubleshooting (critical_path, dependency, git_history)",
      "Debug mode and verbosity levels",
      "Score calculation formula",
      "Advanced analysis flags",
      "Multi-pass analysis",
      "Attribution output",
      "Aggregation methods",
      "God object detection",
      "Tiered prioritization",
      "File-level scoring",
      "Detail level control",
      "Aggregation control",
      "Cache pruning configuration",
      "Error messages reference",
      "Language-specific issues (Rust macros, Python types, JS/TS)",
      "False positive reduction with entropy",
      "Output formatting",
      "Compare command with targeted comparison",
      "Validate command with debt density",
      "Comprehensive FAQ",
      "Bug reporting guidelines",
      "Troubleshooting checklist"
    ],
    "validation_focus": "Check troubleshooting covers common user issues - PASSED with high marks",
    "chapter_length_lines": 1931,
    "estimated_completeness": "90%",
    "missing_features_count": 7,
    "issues_count": 17,
    "positive_aspects_count": 23,
    "analysis_method": "Comprehensive comparison of chapter content against features.json inventory"
  }
}
