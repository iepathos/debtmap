<!DOCTYPE HTML>
<html lang="en" class="rust sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Suppression Patterns - Debtmap Documentation</title>


        <!-- Custom HTML head -->

        <meta name="description" content="Comprehensive guide to Debtmap code complexity and technical debt analyzer">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "rust";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('rust')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Debtmap Documentation</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/iepathos/debtmap" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="suppression-patterns"><a class="header" href="#suppression-patterns">Suppression Patterns</a></h1>
<p>Debtmap provides flexible suppression mechanisms to help you focus on the technical debt that matters most. You can suppress specific debt items inline with comments, or exclude entire files and functions through configuration.</p>
<h2 id="why-use-suppressions"><a class="header" href="#why-use-suppressions">Why Use Suppressions?</a></h2>
<p>Not all detected technical debt requires immediate action. Suppressions allow you to:</p>
<ul>
<li><strong>Focus on priorities</strong>: Hide known, accepted debt to see new issues clearly</li>
<li><strong>Handle false positives</strong>: Suppress patterns that don’t apply to your context</li>
<li><strong>Document decisions</strong>: Explain why certain debt is acceptable using reason annotations</li>
<li><strong>Exclude test code</strong>: Ignore complexity in test fixtures and setup functions</li>
</ul>
<h2 id="inline-comment-suppression"><a class="header" href="#inline-comment-suppression">Inline Comment Suppression</a></h2>
<p>Debtmap supports four inline comment formats that work with your language’s comment syntax:</p>
<h3 id="single-line-suppression"><a class="header" href="#single-line-suppression">Single-Line Suppression</a></h3>
<p>Suppress debt on the same line as the comment:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// debtmap:ignore
// TODO: Implement caching later - performance is acceptable for now
<span class="boring">}</span></code></pre></pre>
<pre><code class="language-python"># debtmap:ignore
# FIXME: Refactor this after the Q2 release
</code></pre>
<p>The suppression applies to debt detected on the same line as the comment.</p>
<h3 id="next-line-suppression"><a class="header" href="#next-line-suppression">Next-Line Suppression</a></h3>
<p>Suppress debt on the line immediately following the comment:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// debtmap:ignore-next-line
fn complex_algorithm() {
    // ...20 lines of complex code...
}
<span class="boring">}</span></code></pre></pre>
<pre><code class="language-typescript">// debtmap:ignore-next-line
function calculateMetrics(data: DataPoint[]): Metrics {
    // ...complex implementation...
}
</code></pre>
<p>This format is useful when you want the suppression comment to appear before the code it affects.</p>
<h3 id="block-suppression"><a class="header" href="#block-suppression">Block Suppression</a></h3>
<p>Suppress multiple lines of code between start and end markers:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// debtmap:ignore-start
fn setup_test_environment() {
    // TODO: Add more test cases
    // FIXME: Handle edge cases
    // Complex test setup code...
}
// debtmap:ignore-end
<span class="boring">}</span></code></pre></pre>
<pre><code class="language-python"># debtmap:ignore-start
def mock_api_responses():
    # TODO: Add more mock scenarios
    # Multiple lines of mock setup
    pass
# debtmap:ignore-end
</code></pre>
<p><strong>Important</strong>: Every <code>ignore-start</code> must have a matching <code>ignore-end</code>. Debtmap tracks unclosed blocks and can warn you about them.</p>
<h2 id="type-specific-suppression"><a class="header" href="#type-specific-suppression">Type-Specific Suppression</a></h2>
<p>You can suppress specific types of debt using bracket notation instead of suppressing everything:</p>
<h3 id="quick-reference-debt-type-suppression"><a class="header" href="#quick-reference-debt-type-suppression">Quick Reference: Debt Type Suppression</a></h3>
<div class="table-wrapper"><table><thead><tr><th>Debt Type</th><th>Bracket Name(s)</th><th>Example</th><th>Notes</th></tr></thead><tbody>
<tr><td>TODO comments</td><td><code>[todo]</code></td><td><code>// debtmap:ignore[todo]</code></td><td>Also suppresses TestTodo</td></tr>
<tr><td>FIXME comments</td><td><code>[fixme]</code></td><td><code>// debtmap:ignore[fixme]</code></td><td></td></tr>
<tr><td>Code smells</td><td><code>[smell]</code> or <code>[codesmell]</code></td><td><code>// debtmap:ignore[smell]</code></td><td></td></tr>
<tr><td>High complexity</td><td><code>[complexity]</code></td><td><code>// debtmap:ignore[complexity]</code></td><td>Also suppresses TestComplexity</td></tr>
<tr><td>Code duplication</td><td><code>[duplication]</code> or <code>[duplicate]</code></td><td><code>// debtmap:ignore[duplication]</code></td><td>Also suppresses TestDuplication</td></tr>
<tr><td>Dependency issues</td><td><code>[dependency]</code></td><td><code>// debtmap:ignore[dependency]</code></td><td></td></tr>
<tr><td>Error swallowing</td><td>❌ Not supported</td><td><code>// debtmap:ignore</code></td><td>Use general suppression only</td></tr>
<tr><td>Resource management</td><td>❌ Not supported</td><td><code>// debtmap:ignore</code></td><td>Use general suppression only</td></tr>
<tr><td>Code organization</td><td>❌ Not supported</td><td><code>// debtmap:ignore</code></td><td>Use general suppression only</td></tr>
<tr><td>Test quality</td><td>❌ Not supported</td><td><code>// debtmap:ignore</code></td><td>Use general suppression only</td></tr>
<tr><td>All types</td><td><code>[*]</code></td><td><code>// debtmap:ignore[*]</code></td><td>Wildcard matches everything</td></tr>
</tbody></table>
</div>
<h3 id="suppress-specific-types"><a class="header" href="#suppress-specific-types">Suppress Specific Types</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// debtmap:ignore[todo]
// TODO: This TODO is ignored, but FIXMEs and complexity are still reported
<span class="boring">}</span></code></pre></pre>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// debtmap:ignore[todo,fixme]
// TODO: Both TODOs and FIXMEs are ignored here
// FIXME: But complexity issues would still be detected
<span class="boring">}</span></code></pre></pre>
<h3 id="supported-debt-types"><a class="header" href="#supported-debt-types">Supported Debt Types</a></h3>
<p>You can suppress the following debt types by name in bracket notation:</p>
<p><strong>Currently Supported:</strong></p>
<ul>
<li><code>todo</code> - TODO comments (also detects test-specific TODOs)</li>
<li><code>fixme</code> - FIXME comments</li>
<li><code>smell</code> or <code>codesmell</code> - Code smell patterns</li>
<li><code>complexity</code> - High cognitive complexity (also detects test complexity)</li>
<li><code>duplication</code> or <code>duplicate</code> - Code duplication (also detects test duplication)</li>
<li><code>dependency</code> - Dependency issues</li>
<li><code>*</code> - All types (wildcard)</li>
</ul>
<p><strong>Auto-Detected Types</strong> (cannot be suppressed by name):</p>
<p>The following debt types are detected by code analysis rather than comment scanning. These types <strong>cannot</strong> be suppressed using bracket notation like <code>[error_swallowing]</code>. To suppress them, use the general <code>debtmap:ignore</code> marker without brackets:</p>
<ul>
<li><code>error_swallowing</code> - Error handling issues (empty catch blocks, ignored errors)</li>
<li><code>resource_management</code> - Resource cleanup issues (file handles, connections)</li>
<li><code>code_organization</code> - Structural issues (god objects, large classes)</li>
</ul>
<p><strong>Example:</strong></p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// ✅ Correct: General suppression without brackets
// debtmap:ignore -- Intentional empty catch for cleanup
match result {
    Err(_) =&gt; {} // Empty catch block
    Ok(v) =&gt; process(v)
}

// ❌ Wrong: Bracket notation not supported for auto-detected types
// debtmap:ignore[error_swallowing]
<span class="boring">}</span></code></pre></pre>
<p><strong>Test-Specific Debt Types:</strong></p>
<p>Test-specific variants like <code>TestComplexity</code>, <code>TestTodo</code>, <code>TestDuplication</code>, and <code>TestQuality</code> are suppressed through their base types:</p>
<ul>
<li><code>TestComplexity</code> → suppressed with <code>[complexity]</code></li>
<li><code>TestTodo</code> → suppressed with <code>[todo]</code></li>
<li><code>TestDuplication</code> → suppressed with <code>[duplication]</code></li>
<li><code>TestQuality</code> → suppressed with general <code>debtmap:ignore</code> (no bracket notation)</li>
</ul>
<p><strong>Example:</strong></p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>#[cfg(test)]
mod tests {
    // Suppresses both Complexity and TestComplexity
    // debtmap:ignore[complexity] -- Complex test setup acceptable
    fn setup_test_environment() {
        // Complex test initialization
    }

    // debtmap:ignore[todo] -- Suppresses both Todo and TestTodo
    // TODO: Add more test cases
    fn test_feature() { }
}

## Wildcard Suppression

Use `[*]` to explicitly suppress all types (equivalent to no bracket notation):

```rust
// debtmap:ignore[*]
// Suppresses all debt types
<span class="boring">}</span></code></pre></pre>
<h3 id="type-specific-blocks"><a class="header" href="#type-specific-blocks">Type-Specific Blocks</a></h3>
<p>Block suppressions also support type filtering:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// debtmap:ignore-start[complexity]
fn intentionally_complex_for_performance() {
    // Complex nested logic is intentional here
    // Complexity warnings suppressed, but TODOs still detected
}
// debtmap:ignore-end
<span class="boring">}</span></code></pre></pre>
<h2 id="suppression-reasons"><a class="header" href="#suppression-reasons">Suppression Reasons</a></h2>
<p>Document why you’re suppressing debt using the <code>--</code> separator:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// debtmap:ignore -- Intentional for backward compatibility
// TODO: Remove this after all clients upgrade to v2.0
<span class="boring">}</span></code></pre></pre>
<pre><code class="language-python"># debtmap:ignore[complexity] -- Performance-critical hot path
def optimize_query(params):
    # Complex but necessary for performance
    pass
</code></pre>
<pre><code class="language-typescript">// debtmap:ignore-next-line -- Waiting on upstream library fix
function workaroundBug() {
    // FIXME: Remove when library v3.0 is released
}
</code></pre>
<p><strong>Best Practice</strong>: Always include reasons for suppressions. This helps future maintainers understand the context and know when suppressions can be removed.</p>
<h2 id="config-file-exclusions"><a class="header" href="#config-file-exclusions">Config File Exclusions</a></h2>
<p>For broader exclusions, use the <code>[ignore]</code> section in <code>.debtmap.toml</code>:</p>
<h3 id="file-pattern-exclusions"><a class="header" href="#file-pattern-exclusions">File Pattern Exclusions</a></h3>
<pre><code class="language-toml">[ignore]
patterns = [
    "target/**",              # Build artifacts
    "node_modules/**",        # Dependencies
    "**/*_test.rs",           # Test files with _test suffix
    "tests/**",               # All test directories
    "**/fixtures/**",         # Test fixtures
    "**/mocks/**",            # Mock implementations
    "**/*.min.js",            # Minified files
    "**/demo/**",             # Demo code
    "**/*.generated.rs",      # Generated files
    "vendor/**",              # Vendor code
    "third_party/**",         # Third-party code
]
</code></pre>
<h3 id="function-name-exclusions-planned"><a class="header" href="#function-name-exclusions-planned">Function Name Exclusions (Planned)</a></h3>
<blockquote>
<p><strong>Note:</strong> Function-level exclusions by name pattern are not yet implemented. This is a planned feature for a future release.</p>
</blockquote>
<p>When implemented, you will be able to exclude entire function families by name pattern:</p>
<pre><code class="language-toml"># Planned feature - not yet available
[ignore.functions]
patterns = [
    # Test setup functions
    "setup_test_*",
    "teardown_test_*",
    "create_test_*",
    "mock_*",

    # Generated code
    "derive_*",
    "__*",                    # Python dunder methods

    # CLI parsing (naturally complex)
    "parse_args",
    "parse_cli",
    "build_cli",

    # Serialization (naturally complex pattern matching)
    "serialize_*",
    "deserialize_*",
    "to_json",
    "from_json",
]
</code></pre>
<p><strong>Current workaround:</strong> Use inline suppression comments (<code>debtmap:ignore</code>) for specific functions, or use file pattern exclusions to exclude entire test files.</p>
<h2 id="glob-pattern-syntax"><a class="header" href="#glob-pattern-syntax">Glob Pattern Syntax</a></h2>
<p>File patterns use standard glob syntax:</p>
<div class="table-wrapper"><table><thead><tr><th>Pattern</th><th>Matches</th><th>Example</th></tr></thead><tbody>
<tr><td><code>*</code></td><td>Any characters within a path component</td><td><code>*.rs</code> matches <code>main.rs</code></td></tr>
<tr><td><code>**</code></td><td>Any directories (recursive)</td><td><code>tests/**</code> matches <code>tests/unit/foo.rs</code></td></tr>
<tr><td><code>?</code></td><td>Single character</td><td><code>test?.rs</code> matches <code>test1.rs</code></td></tr>
<tr><td><code>[abc]</code></td><td>Character class</td><td><code>test[123].rs</code> matches <code>test1.rs</code></td></tr>
<tr><td><code>[!abc]</code></td><td>Negated class</td><td><code>test[!0].rs</code> matches <code>test1.rs</code> but not <code>test0.rs</code></td></tr>
</tbody></table>
</div>
<h3 id="glob-pattern-examples"><a class="header" href="#glob-pattern-examples">Glob Pattern Examples</a></h3>
<pre><code class="language-toml">[ignore]
patterns = [
    "src/**/*_generated.rs",  # Generated files in any subdirectory
    "**/test_*.py",           # Python test files anywhere
    "legacy/**/[!i]*.js",     # Legacy JS files not starting with 'i'
    "**/*.min.js",            # Minified JavaScript
    "**/*.min.css",           # Minified CSS
]
</code></pre>
<blockquote>
<p><strong>Note:</strong> Brace expansion (e.g., <code>*.{js,css}</code>) is not supported. Use separate patterns for each file extension.</p>
</blockquote>
<h2 id="language-specific-comment-syntax"><a class="header" href="#language-specific-comment-syntax">Language-Specific Comment Syntax</a></h2>
<p>Debtmap automatically uses the correct comment syntax for each language:</p>
<div class="table-wrapper"><table><thead><tr><th>Language</th><th>Comment Prefix</th><th>Example</th></tr></thead><tbody>
<tr><td>Rust</td><td><code>//</code></td><td><code>// debtmap:ignore</code></td></tr>
<tr><td>JavaScript</td><td><code>//</code></td><td><code>// debtmap:ignore</code></td></tr>
<tr><td>TypeScript</td><td><code>//</code></td><td><code>// debtmap:ignore</code></td></tr>
<tr><td>Python</td><td><code>#</code></td><td><code># debtmap:ignore</code></td></tr>
</tbody></table>
</div>
<p>You don’t need to configure this—Debtmap detects the language and uses the appropriate syntax.</p>
<h2 id="explicitly-specified-files"><a class="header" href="#explicitly-specified-files">Explicitly Specified Files</a></h2>
<p><strong>Important behavior</strong>: When you analyze a specific file directly, ignore patterns are bypassed:</p>
<pre><code class="language-bash"># Respects [ignore] patterns in .debtmap.toml
debtmap analyze .
debtmap analyze src/

# Bypasses ignore patterns - analyzes the file even if patterns would exclude it
debtmap analyze src/test_helper.rs
</code></pre>
<p>This ensures you can always analyze specific files when needed, even if they match an ignore pattern.</p>
<h2 id="suppression-statistics"><a class="header" href="#suppression-statistics">Suppression Statistics</a></h2>
<p>Debtmap internally tracks suppression usage during analysis:</p>
<ul>
<li><strong>Total suppressions</strong>: Count of active suppressions across all files</li>
<li><strong>Suppressions by type</strong>: How many of each debt type are suppressed</li>
<li><strong>Unclosed blocks</strong>: Detection of <code>ignore-start</code> without matching <code>ignore-end</code></li>
</ul>
<p><strong>Current Status</strong>: These statistics are tracked internally but not yet exposed through the CLI. Future releases may add a dedicated command to view suppression metrics.</p>
<p><strong>Auditing Suppressions Now</strong>: You can audit your suppressions using standard tools:</p>
<pre><code class="language-bash"># Find all suppressions in Rust code
rg "debtmap:ignore" --type rust

# Count suppressions by type
rg "debtmap:ignore\[" --type rust | grep -o "\[.*\]" | sort | uniq -c

# Find unclosed blocks
rg "debtmap:ignore-start" --type rust -A 100 | grep -v "debtmap:ignore-end"

# List files with suppressions
rg "debtmap:ignore" --files-with-matches
</code></pre>
<h2 id="best-practices"><a class="header" href="#best-practices">Best Practices</a></h2>
<h3 id="use-suppressions-sparingly"><a class="header" href="#use-suppressions-sparingly">Use Suppressions Sparingly</a></h3>
<p>Suppressions hide information, so use them intentionally:</p>
<p>✅ <strong>Good use cases:</strong></p>
<ul>
<li>Test fixtures and mock data</li>
<li>Known technical debt with an accepted timeline</li>
<li>Intentional complexity for performance</li>
<li>False positives specific to your domain</li>
</ul>
<p>❌ <strong>Poor use cases:</strong></p>
<ul>
<li>Hiding all debt to make reports look clean</li>
<li>Suppressing instead of fixing simple issues</li>
<li>Using wildcards when specific types would work</li>
</ul>
<h3 id="always-include-reasons"><a class="header" href="#always-include-reasons">Always Include Reasons</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// ✅ Good: Clear reason and timeline
// debtmap:ignore[complexity] -- Hot path optimization, profiled and necessary
fn fast_algorithm() { }

// ❌ Bad: No context for future maintainers
// debtmap:ignore
fn fast_algorithm() { }
<span class="boring">}</span></code></pre></pre>
<h3 id="prefer-specific-over-broad"><a class="header" href="#prefer-specific-over-broad">Prefer Specific Over Broad</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// ✅ Good: Only suppress the specific debt type
// debtmap:ignore[todo] -- Remove after v2.0 migration
// TODO: Migrate to new API

// ❌ Bad: Suppresses everything, including real issues
// debtmap:ignore
// TODO: Migrate to new API
<span class="boring">}</span></code></pre></pre>
<h3 id="use-config-for-systematic-exclusions"><a class="header" href="#use-config-for-systematic-exclusions">Use Config for Systematic Exclusions</a></h3>
<p>For patterns that apply project-wide, use <code>.debtmap.toml</code> instead of inline comments:</p>
<pre><code class="language-toml"># ✅ Good: One config applies to all test files
[ignore]
patterns = ["tests/**"]

# ❌ Bad: Repetitive inline suppressions in every test file
</code></pre>
<h3 id="review-suppressions-periodically"><a class="header" href="#review-suppressions-periodically">Review Suppressions Periodically</a></h3>
<p>Suppressions can become outdated:</p>
<ul>
<li>Remove suppressions when the reason no longer applies</li>
<li>Check if suppressed debt can now be fixed</li>
<li>Verify reasons are still accurate after refactoring</li>
</ul>
<p><strong>Solution:</strong> Periodically search for suppressions:</p>
<pre><code class="language-bash">rg "debtmap:ignore" --type rust
</code></pre>
<h3 id="ensure-blocks-are-closed"><a class="header" href="#ensure-blocks-are-closed">Ensure Blocks Are Closed</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// ✅ Good: Properly closed block
// debtmap:ignore-start
fn test_setup() { }
// debtmap:ignore-end

// ❌ Bad: Unclosed block affects all subsequent code
// debtmap:ignore-start
fn test_setup() { }
// (missing ignore-end)
<span class="boring">}</span></code></pre></pre>
<p>Debtmap detects unclosed blocks and can warn you about them.</p>
<h2 id="common-patterns"><a class="header" href="#common-patterns">Common Patterns</a></h2>
<h3 id="suppressing-test-code"><a class="header" href="#suppressing-test-code">Suppressing Test Code</a></h3>
<pre><code class="language-toml"># In .debtmap.toml
[ignore]
patterns = [
    "tests/**/*",
    "**/*_test.rs",
    "**/test_*.py",
    "**/fixtures/**",
]
</code></pre>
<p>For test functions within production files, use inline suppressions:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>#[cfg(test)]
mod tests {
    // debtmap:ignore-start -- Test code
    fn setup_test_environment() { }
    // debtmap:ignore-end
}
<span class="boring">}</span></code></pre></pre>
<h3 id="suppressing-generated-code"><a class="header" href="#suppressing-generated-code">Suppressing Generated Code</a></h3>
<pre><code class="language-toml">[ignore]
patterns = [
    "**/*_generated.*",
    "**/proto/**",
    "**/bindings/**",
]
</code></pre>
<h3 id="temporary-suppressions-with-timeline"><a class="header" href="#temporary-suppressions-with-timeline">Temporary Suppressions with Timeline</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// debtmap:ignore[complexity] -- TODO: Refactor during Q2 2025 sprint
fn legacy_payment_processor() {
    // Complex legacy code scheduled for refactoring
}
<span class="boring">}</span></code></pre></pre>
<h3 id="suppressing-false-positives"><a class="header" href="#suppressing-false-positives">Suppressing False Positives</a></h3>
<pre><code class="language-python"># debtmap:ignore[duplication] -- Similar but semantically different
def calculate_tax_us():
    # US tax calculation
    pass

# debtmap:ignore[duplication] -- Similar but semantically different
def calculate_tax_eu():
    # EU tax calculation with different rules
    pass
</code></pre>
<h3 id="conditional-suppression"><a class="header" href="#conditional-suppression">Conditional Suppression</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>#[cfg(test)]
// debtmap:ignore[complexity]
fn test_helper() {
    // Complex test setup is acceptable
}
<span class="boring">}</span></code></pre></pre>
<h3 id="suppression-with-detailed-justification"><a class="header" href="#suppression-with-detailed-justification">Suppression with Detailed Justification</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// debtmap:ignore[complexity] -- Required by specification XYZ-123
// This function implements the state machine defined in spec XYZ-123.
// Complexity is inherent to the specification and cannot be reduced
// without violating requirements.
fn state_machine() { ... }
<span class="boring">}</span></code></pre></pre>
<h2 id="troubleshooting"><a class="header" href="#troubleshooting">Troubleshooting</a></h2>
<h3 id="suppression-not-working"><a class="header" href="#suppression-not-working">Suppression Not Working</a></h3>
<ol>
<li><strong>Check comment syntax</strong>: Ensure you’re using the correct comment prefix for your language (<code>//</code> for Rust/JS/TS, <code>#</code> for Python)</li>
<li><strong>Verify spelling</strong>: It’s <code>debtmap:ignore</code>, not <code>debtmap-ignore</code> or <code>debtmap_ignore</code></li>
<li><strong>Check line matching</strong>: For same-line suppressions, ensure the debt is on the same line as the comment</li>
<li><strong>Verify type names</strong>: Use <code>todo</code>, <code>fixme</code>, <code>complexity</code>, etc. (lowercase)</li>
</ol>
<p><strong>Common syntax errors:</strong></p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// Wrong: debtmap: ignore (space after colon)
// Right: debtmap:ignore

// Wrong: debtmap:ignore[Complexity] (capital C)
// Right: debtmap:ignore[complexity]
<span class="boring">}</span></code></pre></pre>
<p><strong>Check placement:</strong></p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// Wrong: comment after code
fn function() { } // debtmap:ignore

// Right: comment before code
// debtmap:ignore
fn function() { }
<span class="boring">}</span></code></pre></pre>
<h3 id="unclosed-block-warning"><a class="header" href="#unclosed-block-warning">Unclosed Block Warning</a></h3>
<p>If you see warnings about unclosed blocks:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// Problem: Missing ignore-end
// debtmap:ignore-start
fn test_helper() { }
// (Should have debtmap:ignore-end here)

// Solution: Add the closing marker
// debtmap:ignore-start
fn test_helper() { }
// debtmap:ignore-end
<span class="boring">}</span></code></pre></pre>
<h3 id="file-still-being-analyzed"><a class="header" href="#file-still-being-analyzed">File Still Being Analyzed</a></h3>
<p>If a file in your ignore patterns is still being analyzed:</p>
<ol>
<li>Check if you’re analyzing the specific file directly (bypasses ignore patterns)</li>
<li>Verify the glob pattern matches the file path</li>
<li>Check for typos in the pattern</li>
<li>Test the pattern in isolation</li>
</ol>
<p><strong>Test pattern with find:</strong></p>
<pre><code class="language-bash">find . -path "tests/**/*" -type f
</code></pre>
<p><strong>Use double asterisk for subdirectories:</strong></p>
<pre><code class="language-toml"># Wrong: "tests/*" (only direct children)
# Right: "tests/**/*" (all descendants)
</code></pre>
<p><strong>Check relative paths:</strong></p>
<pre><code class="language-toml"># Patterns are relative to project root
patterns = [
    "src/legacy/**",  # ✓ Correct
    "/src/legacy/**", # ✗ Wrong (absolute path)
]
</code></pre>
<h3 id="function-suppression-not-working"><a class="header" href="#function-suppression-not-working">Function Suppression Not Working</a></h3>
<p>Function-level exclusions by name pattern are not yet implemented. To suppress specific functions:</p>
<ol>
<li>Use inline suppressions: <code>// debtmap:ignore</code> before the function</li>
<li>Use block suppressions: <code>// debtmap:ignore-start</code> … <code>// debtmap:ignore-end</code></li>
<li>Exclude entire files using <code>[ignore]</code> patterns if the functions are in dedicated files</li>
</ol>
<h2 id="related-topics"><a class="header" href="#related-topics">Related Topics</a></h2>
<ul>
<li><a href="configuration.html">Configuration</a> - Full <code>.debtmap.toml</code> reference</li>
<li><a href="cli-reference.html">CLI Reference</a> - Command-line analysis options</li>
<li><a href="analysis-guide.html">Analysis Guide</a> - Understanding debt detection</li>
<li><a href="output-formats.html">Output Formats</a> - Viewing suppressed items in reports</li>
</ul>
<h2 id="summary"><a class="header" href="#summary">Summary</a></h2>
<p>Suppressions help you focus on actionable technical debt:</p>
<ul>
<li><strong>Inline comments</strong>: <code>debtmap:ignore</code>, <code>ignore-next-line</code>, <code>ignore-start/end</code></li>
<li><strong>Type-specific</strong>: Use <code>[type1,type2]</code> to suppress selectively</li>
<li><strong>Reasons</strong>: Always use <code>-- reason</code> to document why</li>
<li><strong>Config patterns</strong>: Use <code>.debtmap.toml</code> for systematic file exclusions</li>
<li><strong>Best practices</strong>: Use sparingly, prefer specific over broad, review periodically</li>
</ul>
<p>With proper use of suppressions, your Debtmap reports show only the debt that matters to your team.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="threshold-configuration.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="output-formats.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="threshold-configuration.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="output-formats.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->



    </div>
    </body>
</html>
