<!DOCTYPE HTML>
<html lang="en" class="rust sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>God Object Detection - Debtmap Documentation</title>


        <!-- Custom HTML head -->

        <meta name="description" content="Comprehensive guide to Debtmap code complexity and technical debt analyzer">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon-de23e50b.svg">
        <link rel="shortcut icon" href="favicon-8114d1fc.png">
        <link rel="stylesheet" href="css/variables-8adf115d.css">
        <link rel="stylesheet" href="css/general-2459343d.css">
        <link rel="stylesheet" href="css/chrome-ae938929.css">
        <link rel="stylesheet" href="css/print-9e4910d8.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="fonts/fonts-9644e21d.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="mdbook-highlight-css" href="highlight-493f70e1.css">
        <link rel="stylesheet" id="mdbook-tomorrow-night-css" href="tomorrow-night-4c0ae647.css">
        <link rel="stylesheet" id="mdbook-ayu-highlight-css" href="ayu-highlight-3fdfc3ac.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "rust";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "searchindex-28e21e55.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc-f78e0b5d.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="mdbook-body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('rust')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="mdbook-sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("mdbook-sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="mdbook-sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="mdbook-sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="mdbook-page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="mdbook-menu-bar-hover-placeholder"></div>
                <div id="mdbook-menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="mdbook-sidebar-toggle" class="icon-button" for="mdbook-sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="mdbook-sidebar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"/></svg></span>
                        </label>
                        <button id="mdbook-theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="mdbook-theme-list">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M371.3 367.1c27.3-3.9 51.9-19.4 67.2-42.9L600.2 74.1c12.6-19.5 9.4-45.3-7.6-61.2S549.7-4.4 531.1 9.6L294.4 187.2c-24 18-38.2 46.1-38.4 76.1L371.3 367.1zm-19.6 25.4l-116-104.4C175.9 290.3 128 339.6 128 400c0 3.9 .2 7.8 .6 11.6c1.8 17.5-10.2 36.4-27.8 36.4H96c-17.7 0-32 14.3-32 32s14.3 32 32 32H240c61.9 0 112-50.1 112-112c0-2.5-.1-5-.2-7.5z"/></svg></span>
                        </button>
                        <ul id="mdbook-theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-ayu">Ayu</button></li>
                        </ul>
                        <button id="mdbook-search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="mdbook-searchbar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352c79.5 0 144-64.5 144-144s-64.5-144-144-144S64 128.5 64 208s64.5 144 144 144z"/></svg></span>
                        </button>
                    </div>

                    <h1 class="menu-title">Debtmap Documentation</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <span class=fa-svg id="print-button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M128 0C92.7 0 64 28.7 64 64v96h64V64H354.7L384 93.3V160h64V93.3c0-17-6.7-33.3-18.7-45.3L400 18.7C388 6.7 371.7 0 354.7 0H128zM384 352v32 64H128V384 368 352H384zm64 32h32c17.7 0 32-14.3 32-32V256c0-35.3-28.7-64-64-64H64c-35.3 0-64 28.7-64 64v96c0 17.7 14.3 32 32 32H64v64c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V384zm-16-88c-13.3 0-24-10.7-24-24s10.7-24 24-24s24 10.7 24 24s-10.7 24-24 24z"/></svg></span>
                        </a>
                        <a href="https://github.com/iepathos/debtmap" title="Git repository" aria-label="Git repository">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg></span>
                        </a>

                    </div>
                </div>

                <div id="mdbook-search-wrapper" class="hidden">
                    <form id="mdbook-searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="mdbook-searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="mdbook-searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <span class=fa-svg id="fa-spin"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M304 48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zm0 416c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM48 304c26.5 0 48-21.5 48-48s-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48zm464-48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM142.9 437c18.7-18.7 18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zm0-294.2c18.7-18.7 18.7-49.1 0-67.9S93.7 56.2 75 75s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zM369.1 437c18.7 18.7 49.1 18.7 67.9 0s18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9z"/></svg></span>
                            </div>
                        </div>
                    </form>
                    <div id="mdbook-searchresults-outer" class="searchresults-outer hidden">
                        <div id="mdbook-searchresults-header" class="searchresults-header"></div>
                        <ul id="mdbook-searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('mdbook-sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('mdbook-sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#mdbook-sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="mdbook-content" class="content">
                    <main>
                        <h1 id="god-object-detection"><a class="header" href="#god-object-detection">God Object Detection</a></h1>
<h2 id="overview"><a class="header" href="#overview">Overview</a></h2>
<p>Debtmap includes sophisticated god object detection that identifies files and types that have grown too large and taken on too many responsibilities. God objects (also called “god classes” or “god modules”) are a significant source of technical debt as they:</p>
<ul>
<li>Violate the Single Responsibility Principle</li>
<li>Become difficult to maintain and test</li>
<li>Create bottlenecks in development</li>
<li>Increase the risk of bugs due to high coupling</li>
<li>Have high coupling with many other modules</li>
<li>Are hard to test effectively</li>
</ul>
<p>This chapter explains how Debtmap identifies god objects, calculates their scores, and provides actionable refactoring recommendations.</p>
<h2 id="detection-criteria"><a class="header" href="#detection-criteria">Detection Criteria</a></h2>
<p>Debtmap uses two distinct detection strategies depending on the file structure:</p>
<h3 id="god-class-criteria"><a class="header" href="#god-class-criteria">God Class Criteria</a></h3>
<p>A struct/class is classified as a god class when it violates multiple thresholds:</p>
<ol>
<li><strong>Method Count</strong> - Number of impl methods on the struct</li>
<li><strong>Field Count</strong> - Number of struct/class fields</li>
<li><strong>Responsibility Count</strong> - Distinct responsibilities inferred from method names (max_traits in config)</li>
<li><strong>Lines of Code</strong> - Estimated lines for the struct and its impl blocks</li>
<li><strong>Complexity Sum</strong> - Combined cyclomatic complexity of struct methods</li>
</ol>
<p><strong>Note:</strong> All five criteria are evaluated by the <code>determine_confidence</code> function to calculate confidence levels. Each criterion that exceeds its threshold contributes to the violation count.</p>
<h3 id="god-module-criteria"><a class="header" href="#god-module-criteria">God Module Criteria</a></h3>
<p>A file is classified as a god module when it has excessive standalone functions:</p>
<ol>
<li><strong>Standalone Function Count</strong> - Total standalone functions (not in impl blocks)</li>
<li><strong>Responsibility Count</strong> - Distinct responsibilities across all functions</li>
<li><strong>Lines of Code</strong> - Total lines in the file</li>
<li><strong>Complexity Sum</strong> - Combined cyclomatic complexity (estimated as <code>function_count × 5</code>)</li>
</ol>
<p><strong>Key Difference:</strong> God class detection focuses on a single struct’s methods, while god module detection counts standalone functions across the entire file.</p>
<h3 id="language-specific-thresholds"><a class="header" href="#language-specific-thresholds">Language-Specific Thresholds</a></h3>
<h4 id="rust"><a class="header" href="#rust">Rust</a></h4>
<ul>
<li><strong>Max Methods</strong>: 20 (includes both impl methods and standalone functions)</li>
<li><strong>Max Fields</strong>: 15</li>
<li><strong>Max Responsibilities</strong>: 5</li>
<li><strong>Max Lines</strong>: 1000</li>
<li><strong>Max Complexity</strong>: 200</li>
</ul>
<h4 id="python"><a class="header" href="#python">Python</a></h4>
<ul>
<li><strong>Max Methods</strong>: 15</li>
<li><strong>Max Fields</strong>: 10</li>
<li><strong>Max Responsibilities</strong>: 3</li>
<li><strong>Max Lines</strong>: 500</li>
<li><strong>Max Complexity</strong>: 150</li>
</ul>
<h4 id="javascripttypescript"><a class="header" href="#javascripttypescript">JavaScript/TypeScript</a></h4>
<ul>
<li><strong>Max Methods</strong>: 15</li>
<li><strong>Max Fields</strong>: 20</li>
<li><strong>Max Responsibilities</strong>: 3</li>
<li><strong>Max Lines</strong>: 500</li>
<li><strong>Max Complexity</strong>: 150</li>
</ul>
<p><strong>Note:</strong> TypeScript uses the same thresholds as JavaScript since both languages have similar structural patterns. The implementation treats them identically for god object detection purposes.</p>
<p>These thresholds can be customized per-language in your <code>.debtmap.toml</code> configuration file.</p>
<h2 id="god-class-vs-god-module-detection"><a class="header" href="#god-class-vs-god-module-detection">God Class vs God Module Detection</a></h2>
<p>Debtmap distinguishes between two distinct types of god objects:</p>
<h3 id="god-class-detection"><a class="header" href="#god-class-detection">God Class Detection</a></h3>
<p>A <strong>god class</strong> is a single struct/class with excessive methods and fields. Debtmap analyzes the largest type in a file using:</p>
<ol>
<li>Find the largest type (struct/class) by <code>method_count + field_count × 2</code></li>
<li>Count <strong>only the impl methods</strong> for that struct</li>
<li>Check against thresholds:
<ul>
<li>Rust: &gt;20 methods, &gt;15 fields</li>
<li>Python: &gt;15 methods, &gt;10 fields</li>
<li>JavaScript/TypeScript: &gt;15 methods, &gt;20 fields</li>
</ul>
</li>
</ol>
<p><strong>Example:</strong> A struct with 25 methods and 18 fields would be flagged as a god class.</p>
<h3 id="god-module-detection"><a class="header" href="#god-module-detection">God Module Detection</a></h3>
<p>A <strong>god module</strong> is a file with excessive standalone functions (no dominant struct). Debtmap counts standalone functions when:</p>
<ol>
<li>No struct/class is found, OR</li>
<li>The file has many standalone functions outside of any impl blocks</li>
</ol>
<p><strong>Implementation Detail:</strong> Debtmap uses the <code>DetectionType</code> enum with three variants:</p>
<ul>
<li><code>GodClass</code> - Single struct with excessive methods/fields</li>
<li><code>GodFile</code> - File with excessive functions or lines of code</li>
<li><code>GodModule</code> - Alias for <code>GodFile</code> (both represent the same detection type)</li>
</ul>
<p>The <code>GodModule</code> variant is provided for clarity when discussing files with many standalone functions, but internally it’s the same as <code>GodFile</code>. Both terms exist to help distinguish between “file is large” (GodFile) and “file has many functions” (GodModule) conceptually in documentation and error messages, even though they’re implemented identically in the detection logic.</p>
<p><strong>Example:</strong> A file like <code>rust_call_graph.rs</code> with 270 standalone functions would be flagged as a god module (using the <code>GodFile</code>/<code>GodModule</code> detection type).</p>
<h3 id="why-separate-analysis"><a class="header" href="#why-separate-analysis">Why Separate Analysis?</a></h3>
<p>Previously, Debtmap combined standalone functions with struct methods, causing <strong>false positives</strong> for functional/procedural modules. The current implementation analyzes them separately to:</p>
<ul>
<li>Avoid penalizing pure functional modules</li>
<li>Distinguish between architectural issues (god class) and organizational issues (god module)</li>
<li>Provide more accurate refactoring recommendations</li>
</ul>
<p><strong>Key Distinction:</strong> A file containing a struct with 15 methods plus 20 standalone functions is analyzed as:</p>
<ul>
<li><strong>God Class:</strong> No (15 methods &lt; 20 threshold)</li>
<li><strong>God Module:</strong> Possibly (20 standalone functions, approaching threshold)</li>
</ul>
<p>See <code>src/organization/god_object_detector.rs:449-505</code> for implementation details.</p>
<h2 id="confidence-levels"><a class="header" href="#confidence-levels">Confidence Levels</a></h2>
<p>Debtmap assigns confidence levels based <strong>solely on the number of thresholds violated</strong>:</p>
<ul>
<li><strong>Definite</strong> (5 violations) - All five metrics exceed thresholds - clear god object requiring immediate refactoring</li>
<li><strong>Probable</strong> (3-4 violations) - Most metrics exceed thresholds - likely god object that should be refactored</li>
<li><strong>Possible</strong> (1-2 violations) - Some metrics exceed thresholds - potential god object worth reviewing</li>
<li><strong>NotGodObject</strong> (0 violations) - All metrics within acceptable limits</li>
</ul>
<p><strong>Note:</strong> The confidence level is determined by violation count alone. The god object score (calculated separately) is used for prioritization and ranking, but does not affect the confidence classification.</p>
<p><strong>Example:</strong> Consider two files both with <code>violation_count=2</code> (Possible confidence):</p>
<ul>
<li>File A: 21 methods, 16 fields (just over the threshold)</li>
<li>File B: 100 methods, 50 fields (severely over the threshold)</li>
</ul>
<p>Both receive the same “Possible” confidence level, but File B will have a much higher god object score for prioritization purposes. This separation ensures consistent confidence classification while still allowing scores to reflect severity.</p>
<p>See <code>src/organization/god_object_analysis.rs:236-268</code> for the <code>determine_confidence</code> function.</p>
<h2 id="scoring-algorithms"><a class="header" href="#scoring-algorithms">Scoring Algorithms</a></h2>
<p>Debtmap provides three scoring algorithms to accommodate different analysis needs.</p>
<h3 id="simple-scoring"><a class="header" href="#simple-scoring">Simple Scoring</a></h3>
<p>The base scoring algorithm calculates god object score using four factors:</p>
<pre><code>method_factor = min(method_count / max_methods, 3.0)
field_factor = min(field_count / max_fields, 3.0)
responsibility_factor = min(responsibility_count / 3, 3.0)
size_factor = min(lines_of_code / max_lines, 3.0)

base_score = method_factor × field_factor × responsibility_factor × size_factor
</code></pre>
<p><strong>Score Enforcement:</strong></p>
<ul>
<li>If <code>violation_count &gt; 0</code>: <code>final_score = max(base_score × 50 × violation_count, 100)</code></li>
<li>Else: <code>final_score = base_score × 10</code></li>
</ul>
<p>The minimum score of 100 ensures that any god object receives sufficient priority in the technical debt analysis.</p>
<h3 id="complexity-weighted-scoring"><a class="header" href="#complexity-weighted-scoring">Complexity-Weighted Scoring</a></h3>
<p>Unlike raw method counting, this algorithm weights each method by its cyclomatic complexity. This ensures that 100 simple functions (complexity 1-3) score better than 10 highly complex functions (complexity 17+).</p>
<p>The formula is similar to simple scoring, but uses <code>weighted_method_count</code> (sum of complexity weights) instead of raw counts:</p>
<pre><code>method_factor = min(weighted_method_count / max_methods, 3.0)
</code></pre>
<p>Additionally, a <strong>complexity factor</strong> is applied:</p>
<ul>
<li>Average complexity &lt; 3.0: <code>0.7</code> (reward simple functions)</li>
<li>Average complexity &gt; 10.0: <code>1.5</code> (penalize complex functions)</li>
<li>Otherwise: <code>1.0</code></li>
</ul>
<p>The final score becomes:</p>
<pre><code>final_score = max(base_score × 50 × complexity_factor × violation_count, 100)
</code></pre>
<p>This approach better reflects the true maintainability burden of a large module.</p>
<p>See <code>src/organization/god_object_analysis.rs:142-209</code>.</p>
<h3 id="purity-weighted-scoring-advanced"><a class="header" href="#purity-weighted-scoring-advanced">Purity-Weighted Scoring (Advanced)</a></h3>
<p><strong>Available for Rust only</strong> (requires <code>syn::ItemFn</code> analysis)</p>
<p>This advanced scoring variant combines both <strong>complexity weighting</strong> and <strong>purity analysis</strong>, building on top of complexity-weighted scoring to further reduce the impact of pure functions. This prevents pure functional modules from being unfairly penalized. The algorithm:</p>
<ol>
<li>
<p>Analyzes each function for purity using three levels:</p>
<ul>
<li>
<p><strong>Pure</strong> (no side effects): Functions with read-only operations, no I/O, no mutation</p>
<ul>
<li>Weight multiplier: <code>0.3</code></li>
<li>Examples: <code>calculate_sum()</code>, <code>format_string()</code>, <code>is_valid()</code></li>
</ul>
</li>
<li>
<p><strong>Probably Pure</strong> (likely no side effects): Functions that appear pure but may have hidden side effects</p>
<ul>
<li>Weight multiplier: <code>0.5</code></li>
<li>Examples: Functions using trait methods (could have side effects), generic operations</li>
</ul>
</li>
<li>
<p><strong>Impure</strong> (has side effects): Functions with clear side effects like I/O, mutation, external calls</p>
<ul>
<li>Weight multiplier: <code>1.0</code></li>
<li>Examples: <code>save_to_file()</code>, <code>update_state()</code>, <code>send_request()</code></li>
</ul>
</li>
</ul>
</li>
<li>
<p>Purity Detection Heuristics:</p>
<ul>
<li><strong>Pure indicators</strong>: No <code>mut</code> references, no I/O operations, no external function calls</li>
<li><strong>Impure indicators</strong>: File/network operations, mutable state, database access, logging</li>
<li><strong>Probably Pure</strong>: Generic functions, trait method calls, or ambiguous patterns</li>
</ul>
</li>
<li>
<p>Combines complexity and purity weights to calculate the total contribution:</p>
<pre><code>total_weight = complexity_weight × purity_multiplier
</code></pre>
<p>This means pure functions get both the complexity-based weight AND the purity multiplier applied together.</p>
<p><strong>Example:</strong> A pure function with complexity 5 contributes only <code>5 × 0.3 = 1.5</code> to the weighted count (compared to 5.0 for an impure function of the same complexity).</p>
</li>
<li>
<p>Tracks the <code>PurityDistribution</code>:</p>
<ul>
<li><code>pure_count</code>, <code>probably_pure_count</code>, <code>impure_count</code></li>
<li><code>pure_weight_contribution</code>, <code>probably_pure_weight_contribution</code>, <code>impure_weight_contribution</code></li>
</ul>
</li>
</ol>
<p><strong>Impact:</strong> A file with 100 pure helper functions (total complexity 150) might have a weighted method count of only <code>150 × 0.3 = 45</code>, avoiding false positives while still catching stateful god objects with many impure methods.</p>
<p>See <code>src/organization/god_object_detector.rs:196-258</code> and <code>src/organization/purity_analyzer.rs</code>.</p>
<h2 id="responsibility-detection"><a class="header" href="#responsibility-detection">Responsibility Detection</a></h2>
<p>Responsibilities are inferred from method names using common prefixes. Debtmap recognizes the following categories:</p>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Prefix(es)</th><th>Responsibility Category</th></tr>
</thead>
<tbody>
<tr><td><code>format</code>, <code>render</code>, <code>write</code>, <code>print</code></td><td>Formatting &amp; Output</td></tr>
<tr><td><code>parse</code>, <code>read</code>, <code>extract</code></td><td>Parsing &amp; Input</td></tr>
<tr><td><code>filter</code>, <code>select</code>, <code>find</code></td><td>Filtering &amp; Selection</td></tr>
<tr><td><code>transform</code>, <code>convert</code>, <code>map</code>, <code>apply</code></td><td>Transformation</td></tr>
<tr><td><code>get</code>, <code>set</code></td><td>Data Access</td></tr>
<tr><td><code>validate</code>, <code>check</code>, <code>verify</code>, <code>is</code></td><td>Validation</td></tr>
<tr><td><code>calculate</code>, <code>compute</code></td><td>Computation</td></tr>
<tr><td><code>create</code>, <code>build</code>, <code>new</code></td><td>Construction</td></tr>
<tr><td><code>save</code>, <code>load</code>, <code>store</code></td><td>Persistence</td></tr>
<tr><td><code>process</code>, <code>handle</code></td><td>Processing</td></tr>
<tr><td><code>send</code>, <code>receive</code></td><td>Communication</td></tr>
<tr><td><em>(no prefix match)</em></td><td>Utilities</td></tr>
</tbody>
</table>
</div>
<p><strong>Note:</strong> <code>Utilities</code> serves as both a category in the responsibility list and the fallback when no prefix matches. In the implementation, <code>Utilities</code> is included in <code>RESPONSIBILITY_CATEGORIES</code> with an empty prefixes array (<code>prefixes: &amp;[]</code>), making it the catch-all category returned by <code>infer_responsibility_from_method</code> when no other category matches.</p>
<p><strong>Distinct Responsibility Counting:</strong> Debtmap counts the number of <strong>unique</strong> responsibility categories used by a struct/module’s methods. A high responsibility count (e.g., &gt;5) indicates the module is handling too many different concerns, violating the Single Responsibility Principle.</p>
<p>Responsibility count directly affects:</p>
<ul>
<li>God object scoring (via <code>responsibility_factor</code>)</li>
<li>Refactoring recommendations (methods grouped by responsibility for suggested splits)</li>
<li>Detection confidence (counted as one of the five violation criteria)</li>
</ul>
<p>See <code>src/organization/god_object_analysis.rs:318-388</code> for the <code>infer_responsibility_from_method</code> function.</p>
<h2 id="examples-and-case-studies"><a class="header" href="#examples-and-case-studies">Examples and Case Studies</a></h2>
<h3 id="example-1-large-rust-module"><a class="header" href="#example-1-large-rust-module">Example 1: Large Rust Module</a></h3>
<p><strong>File:</strong> <code>rust_call_graph.rs</code> with 270 standalone functions</p>
<p><strong>Detection:</strong></p>
<ul>
<li><strong>Is God Object:</strong> Yes</li>
<li><strong>Method Count:</strong> 270</li>
<li><strong>Field Count:</strong> 0 (no struct)</li>
<li><strong>Responsibilities:</strong> 8</li>
<li><strong>Confidence:</strong> Definite</li>
<li><strong>Score:</strong> &gt;1000 (severe violation)</li>
</ul>
<p><strong>Recommendation:</strong> Break into multiple focused modules:</p>
<ul>
<li><code>CallGraphBuilder</code> (construction methods)</li>
<li><code>CallGraphAnalyzer</code> (analysis methods)</li>
<li><code>CallGraphFormatter</code> (output methods)</li>
</ul>
<h3 id="example-2-complex-python-class"><a class="header" href="#example-2-complex-python-class">Example 2: Complex Python Class</a></h3>
<p><strong>File:</strong> <code>data_manager.py</code> with class containing 25 methods and 12 fields</p>
<p><strong>Detection:</strong></p>
<ul>
<li><strong>Is God Object:</strong> Yes</li>
<li><strong>Method Count:</strong> 25</li>
<li><strong>Field Count:</strong> 12</li>
<li><strong>Responsibilities:</strong> 6 (Data Access, Validation, Persistence, etc.)</li>
<li><strong>Confidence:</strong> Probable</li>
<li><strong>Score:</strong> ~150-200</li>
</ul>
<p><strong>Recommendation:</strong> Split by responsibility:</p>
<ul>
<li><code>DataAccessLayer</code> (get/set methods)</li>
<li><code>DataValidator</code> (validate/check methods)</li>
<li><code>DataPersistence</code> (save/load methods)</li>
</ul>
<h3 id="example-3-mixed-paradigm-file-god-module"><a class="header" href="#example-3-mixed-paradigm-file-god-module">Example 3: Mixed Paradigm File (God Module)</a></h3>
<p><strong>File:</strong> <code>utils.rs</code> with small struct (5 methods, 3 fields) + 60 standalone functions</p>
<p><strong>Detection:</strong></p>
<ul>
<li><strong>God Class (struct):</strong> No (5 methods &lt; 20 threshold, 3 fields &lt; 15 threshold)</li>
<li><strong>God Module (file):</strong> Yes (60 standalone functions &gt; 50 threshold)</li>
<li><strong>Confidence:</strong> Probable</li>
<li><strong>Score:</strong> ~120</li>
</ul>
<p><strong>Analysis:</strong> The struct and standalone functions are analyzed separately. The struct is not a god class, but the file is a god module due to the excessive standalone functions. This indicates an overgrown utility module that should be split into smaller, focused modules.</p>
<p><strong>Recommendation:</strong> Split standalone functions into focused utility modules:</p>
<ul>
<li><code>StringUtils</code> (formatting, parsing)</li>
<li><code>FileUtils</code> (file operations)</li>
<li><code>MathUtils</code> (calculations)</li>
</ul>
<h2 id="refactoring-recommendations"><a class="header" href="#refactoring-recommendations">Refactoring Recommendations</a></h2>
<p>When <code>is_god_object = true</code>, Debtmap generates <strong>recommended module splits</strong> using the <code>recommend_module_splits</code> function. This feature:</p>
<ol>
<li>
<p>Groups methods by their inferred responsibilities</p>
</li>
<li>
<p>Creates a <code>ModuleSplit</code> for each responsibility group containing:</p>
<ul>
<li><code>suggested_name</code> (e.g., “DataAccessManager”, “ValidationManager”)</li>
<li><code>methods_to_move</code> (list of method names)</li>
<li><code>responsibility</code> (category name)</li>
<li><code>estimated_lines</code> (approximate LOC for the new module)</li>
</ul>
</li>
<li>
<p>Orders splits by cohesion (most focused responsibility groups first)</p>
</li>
</ol>
<p><strong>Example output:</strong></p>
<pre><code>Recommended Splits:
  1. DataAccessManager (12 methods, ~150 lines)
  2. ValidationManager (8 methods, ~100 lines)
  3. PersistenceManager (5 methods, ~75 lines)
</code></pre>
<p>This provides an actionable roadmap for breaking down god objects into focused, single-responsibility modules.</p>
<p>See <code>src/organization/god_object_detector.rs:165-177</code> and <code>src/organization/god_object_analysis.rs:40-45</code>.</p>
<h3 id="code-examples"><a class="header" href="#code-examples">Code Examples</a></h3>
<h4 id="split-by-responsibility"><a class="header" href="#split-by-responsibility">Split by Responsibility</a></h4>
<pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// Before: UserManager (god object)
struct UserManager { ... }

// After: Split into focused modules
struct AuthService { ... }
struct ProfileService { ... }
struct PermissionService { ... }
struct NotificationService { ... }
<span class="boring">}</span></code></pre>
<h4 id="extract-common-functionality"><a class="header" href="#extract-common-functionality">Extract Common Functionality</a></h4>
<pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// Extract shared dependencies
struct ServiceContext {
    db: Database,
    cache: Cache,
    logger: Logger,
}

// Each service gets a reference
struct AuthService&lt;'a&gt; {
    context: &amp;'a ServiceContext,
}
<span class="boring">}</span></code></pre>
<h4 id="use-composition"><a class="header" href="#use-composition">Use Composition</a></h4>
<pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// Compose services instead of inheriting
struct UserFacade {
    auth: AuthService,
    profile: ProfileService,
    permissions: PermissionService,
}

impl UserFacade {
    fn login(&amp;mut self, credentials: Credentials) -&gt; Result&lt;Session&gt; {
        self.auth.login(credentials)
    }
}
<span class="boring">}</span></code></pre>
<h2 id="configuration"><a class="header" href="#configuration">Configuration</a></h2>
<h3 id="toml-configuration"><a class="header" href="#toml-configuration">TOML Configuration</a></h3>
<p>Add a <code>[god_object_detection]</code> section to your <code>.debtmap.toml</code>:</p>
<pre><code class="language-toml">[god_object_detection]
enabled = true

[god_object_detection.rust]
max_methods = 20
max_fields = 15
max_traits = 5      # max_traits = max responsibilities
max_lines = 1000
max_complexity = 200

# Note: The configuration field is named 'max_traits' for historical reasons,
# but it controls the maximum number of responsibilities/concerns, not Rust traits.
# This is a legacy naming issue from early development.

[god_object_detection.python]
max_methods = 15
max_fields = 10
max_traits = 3
max_lines = 500
max_complexity = 150

[god_object_detection.javascript]
max_methods = 15
max_fields = 20
max_traits = 3
max_lines = 500
max_complexity = 150
</code></pre>
<p><strong>Note:</strong> <code>enabled</code> defaults to <code>true</code>. Set to <code>false</code> to disable god object detection entirely (equivalent to <code>--no-god-object</code> CLI flag).</p>
<p>See <code>src/config.rs:500-582</code>.</p>
<h3 id="tuning-for-your-project"><a class="header" href="#tuning-for-your-project">Tuning for Your Project</a></h3>
<p><strong>Strict mode (smaller modules):</strong></p>
<pre><code class="language-toml">[god_object_detection.rust]
max_methods = 15
max_fields = 10
max_traits = 3
</code></pre>
<p><strong>Lenient mode (larger modules acceptable):</strong></p>
<pre><code class="language-toml">[god_object_detection.rust]
max_methods = 30
max_fields = 20
max_traits = 7
</code></pre>
<h3 id="cli-options"><a class="header" href="#cli-options">CLI Options</a></h3>
<p>Debtmap provides several CLI flags to control god object detection behavior:</p>
<h4 id="--no-god-object"><a class="header" href="#--no-god-object"><code>--no-god-object</code></a></h4>
<p>Disables god object detection entirely.</p>
<pre><code class="language-bash">debtmap analyze . --no-god-object
</code></pre>
<p><strong>Use case:</strong> When you only want function-level complexity analysis without file-level aggregation.</p>
<h4 id="--aggregate-only"><a class="header" href="#--aggregate-only"><code>--aggregate-only</code></a></h4>
<p>Shows only file-level god object scores, hiding individual function details.</p>
<pre><code class="language-bash">debtmap analyze . --aggregate-only
</code></pre>
<p><strong>Use case:</strong> High-level overview of which files are god objects without function-by-function breakdowns.</p>
<h4 id="--no-aggregation"><a class="header" href="#--no-aggregation"><code>--no-aggregation</code></a></h4>
<p>Disables file-level aggregation, showing only individual function metrics.</p>
<pre><code class="language-bash">debtmap analyze . --no-aggregation
</code></pre>
<p><strong>Use case:</strong> Detailed function-level analysis without combining into file scores.</p>
<h4 id="--aggregation-method-method"><a class="header" href="#--aggregation-method-method"><code>--aggregation-method &lt;METHOD&gt;</code></a></h4>
<p>Chooses how to combine function scores into file-level scores:</p>
<ul>
<li><code>sum</code> - Add all function scores</li>
<li><code>weighted_sum</code> - Weight by complexity (default)</li>
<li><code>logarithmic_sum</code> - Logarithmic scaling for large files</li>
<li><code>max_plus_average</code> - Max score + average of others</li>
</ul>
<pre><code class="language-bash">debtmap analyze . --aggregation-method logarithmic_sum
</code></pre>
<h4 id="--min-problematic-n"><a class="header" href="#--min-problematic-n"><code>--min-problematic &lt;N&gt;</code></a></h4>
<p>Sets minimum number of problematic functions required for file-level aggregation.</p>
<pre><code class="language-bash">debtmap analyze . --min-problematic 3
</code></pre>
<p><strong>Use case:</strong> Avoid flagging files with only 1-2 complex functions as god objects.</p>
<p>See <code>features.json:65-71</code> and <code>features.json:507-512</code>.</p>
<h2 id="output-display"><a class="header" href="#output-display">Output Display</a></h2>
<h3 id="file-level-display"><a class="header" href="#file-level-display">File-Level Display</a></h3>
<p>When a god object is detected, Debtmap displays:</p>
<pre><code>⚠️ God Object: 270 methods, 0 fields, 8 responsibilities
Score: 1350 (Confidence: Definite)
</code></pre>
<h3 id="function-level-display"><a class="header" href="#function-level-display">Function-Level Display</a></h3>
<p>Within a god object file, individual functions show:</p>
<pre><code>├─ ⚠️ God Object: 45 methods, 20 fields, 5 responsibilities
│      Score: 250 (Confidence: Probable)
</code></pre>
<p>The <code>⚠️ God Object</code> indicator makes it immediately clear which files need architectural refactoring.</p>
<h2 id="integration-with-file-level-scoring"><a class="header" href="#integration-with-file-level-scoring">Integration with File-Level Scoring</a></h2>
<p>God object detection affects the overall technical debt prioritization through a <strong>god object multiplier</strong>:</p>
<pre><code>god_object_multiplier = 2.0 + normalized_god_object_score
</code></pre>
<h3 id="normalization"><a class="header" href="#normalization">Normalization</a></h3>
<p>The <code>normalized_god_object_score</code> is scaled to the 0-1 range using:</p>
<pre><code>normalized_score = min(god_object_score / max_expected_score, 1.0)
</code></pre>
<p>Where <code>max_expected_score</code> is typically based on the maximum score in the analysis (e.g., 1000 for severe violations).</p>
<h3 id="impact-on-prioritization"><a class="header" href="#impact-on-prioritization">Impact on Prioritization</a></h3>
<p>This multiplier means:</p>
<ol>
<li><strong>Non-god objects</strong> (score = 0): multiplier = 2.0 (baseline)</li>
<li><strong>Moderate god objects</strong> (score = 200): multiplier ≈ 2.2-2.5</li>
<li><strong>Severe god objects</strong> (score = 1000+): multiplier ≈ 3.0 (maximum)</li>
</ol>
<p><strong>Result:</strong> God objects receive <strong>2-3× higher priority</strong> in debt rankings, ensuring that:</p>
<ul>
<li>Functions within god objects inherit elevated scores due to architectural concerns</li>
<li>God objects surface in the “top 10 most problematic” lists</li>
<li>Architectural debt is weighted appropriately alongside function-level complexity</li>
</ul>
<p>See file-level scoring documentation for complete details on how this multiplier integrates into the overall debt calculation.</p>
<h2 id="metrics-tracking-advanced"><a class="header" href="#metrics-tracking-advanced">Metrics Tracking (Advanced)</a></h2>
<p>For teams tracking god object evolution over time, Debtmap provides <code>GodObjectMetrics</code> with:</p>
<ul>
<li><strong>Snapshots</strong> - Historical god object data per file</li>
<li><strong>Trends</strong> - Improving/Stable/Worsening classification (based on ±10 point score changes)</li>
<li><strong>New God Objects</strong> - Files that crossed the threshold</li>
<li><strong>Resolved God Objects</strong> - Files that were refactored below thresholds</li>
</ul>
<p>This enables longitudinal analysis: “Are we reducing god objects sprint-over-sprint?”</p>
<p>See <code>src/organization/god_object_metrics.rs:1-228</code>.</p>
<h2 id="troubleshooting"><a class="header" href="#troubleshooting">Troubleshooting</a></h2>
<h3 id="why-is-my-functional-module-flagged-as-a-god-object"><a class="header" href="#why-is-my-functional-module-flagged-as-a-god-object">“Why is my functional module flagged as a god object?”</a></h3>
<p><strong>Answer:</strong> Debtmap now analyzes god classes (structs) separately from god modules (standalone functions). If your functional module with 100 pure helper functions is flagged, it’s being detected as a <strong>god module</strong> (not a god class), which indicates the file has grown too large and should be split for better organization.</p>
<p><strong>Solutions:</strong></p>
<ol>
<li><strong>Accept the finding</strong>: 100+ functions in one file is difficult to navigate and maintain, even if each function is simple</li>
<li><strong>Split by responsibility</strong>: Organize functions into smaller, focused modules (e.g., <code>string_utils.rs</code>, <code>file_utils.rs</code>, <code>math_utils.rs</code>)</li>
<li><strong>Use purity-weighted scoring</strong> (Rust only): Pure functions contribute only 0.3× weight, dramatically reducing scores for functional modules</li>
<li><strong>Adjust thresholds</strong>: Increase <code>max_methods</code> in <code>.debtmap.toml</code> if your project standards allow larger modules</li>
</ol>
<h3 id="my-god-object-score-seems-too-high"><a class="header" href="#my-god-object-score-seems-too-high">“My god object score seems too high”</a></h3>
<p><strong>Answer:</strong> The scoring algorithm uses exponential scaling (<code>base_score × 50 × violation_count</code>) to ensure god objects are prioritized.</p>
<p><strong>Solutions:</strong></p>
<ol>
<li>Check the violation count - 5 violations means severe issues</li>
<li>Review each metric - are method count, field count, responsibilities, LOC, and complexity all high?</li>
<li>Consider if the score accurately reflects maintainability burden</li>
</ol>
<h3 id="why-does-my-test-file-show-as-a-god-object"><a class="header" href="#why-does-my-test-file-show-as-a-god-object">“Why does my test file show as a god object?”</a></h3>
<p><strong>Answer:</strong> Test files often have many test functions, which can trigger god module detection. However, this is usually expected for comprehensive test suites.</p>
<p><strong>Solutions:</strong></p>
<ol>
<li><strong>Accept the finding</strong>: Large test files (100+ test functions) can be difficult to navigate and maintain</li>
<li><strong>Split by feature</strong>: Organize tests into smaller files grouped by the feature they test (e.g., <code>user_auth_tests.rs</code>, <code>user_profile_tests.rs</code>)</li>
<li><strong>Adjust thresholds</strong>: If your project standards accept large test files, increase <code>max_methods</code> in <code>.debtmap.toml</code></li>
<li><strong>Use test organization</strong>: Group related tests in modules within the test file for better structure</li>
</ol>
<p><strong>Note:</strong> Debtmap does not automatically exclude test files from god object detection. Consider the trade-offs between comprehensive test coverage in one file versus better organization across multiple test files.</p>
<h3 id="can-i-disable-god-object-detection-for-specific-files"><a class="header" href="#can-i-disable-god-object-detection-for-specific-files">“Can I disable god object detection for specific files?”</a></h3>
<p><strong>Answer:</strong> Currently, god object detection is global. However, you can:</p>
<ol>
<li>Use <code>--no-god-object</code> to disable entirely</li>
<li>Use <code>--no-aggregation</code> to skip file-level analysis</li>
<li>Adjust thresholds in <code>.debtmap.toml</code> to be more lenient</li>
</ol>
<h2 id="best-practices"><a class="header" href="#best-practices">Best Practices</a></h2>
<p>To avoid god objects:</p>
<ol>
<li><strong>Follow Single Responsibility Principle</strong> - Each module should have one clear purpose</li>
<li><strong>Regular Refactoring</strong> - Split modules before they reach thresholds</li>
<li><strong>Monitor Growth</strong> - Track method and field counts as modules evolve</li>
<li><strong>Use Composition</strong> - Prefer smaller, composable units over large monoliths</li>
<li><strong>Clear Boundaries</strong> - Define clear module interfaces and responsibilities</li>
<li><strong>Leverage Purity</strong> - Keep pure functions separate from stateful logic (reduces scores in Rust)</li>
<li><strong>Set Project Thresholds</strong> - Customize <code>.debtmap.toml</code> to match your team’s standards</li>
</ol>
<h2 id="configuration-tradeoffs"><a class="header" href="#configuration-tradeoffs">Configuration Tradeoffs</a></h2>
<p><strong>Strict Thresholds</strong> (e.g., Rust: 10 methods):</p>
<ul>
<li>✅ Catch problems early</li>
<li>✅ Enforce strong modularity</li>
<li>❌ May flag legitimate large modules</li>
<li>❌ More noise in reports</li>
</ul>
<p><strong>Lenient Thresholds</strong> (e.g., Rust: 50 methods):</p>
<ul>
<li>✅ Reduce false positives</li>
<li>✅ Focus on egregious violations</li>
<li>❌ Miss real god objects</li>
<li>❌ Allow technical debt to grow</li>
</ul>
<p><strong>Recommended:</strong> Start with defaults, then adjust based on your codebase’s characteristics. Use metrics tracking to monitor trends over time.</p>
<h2 id="related-documentation"><a class="header" href="#related-documentation">Related Documentation</a></h2>
<ul>
<li><a href="./file-level-scoring.html">File-Level Scoring</a> - How god objects affect overall file scores</li>
<li><a href="./configuration.html">Configuration</a> - Complete <code>.debtmap.toml</code> reference</li>
<li><a href="./cli-reference.html">CLI Reference</a> - All command-line options</li>
<li><a href="./tiered-prioritization.html">Tiered Prioritization</a> - How god objects are prioritized</li>
</ul>
<h2 id="summary"><a class="header" href="#summary">Summary</a></h2>
<p>God object detection is a powerful architectural analysis feature that:</p>
<ul>
<li>Identifies files/types violating single responsibility principle</li>
<li>Provides multiple scoring algorithms (simple, complexity-weighted, purity-weighted)</li>
<li>Generates actionable refactoring recommendations</li>
<li>Integrates with file-level scoring for holistic debt prioritization</li>
<li>Supports customization via TOML config and CLI flags</li>
</ul>
<p>By combining quantitative metrics (method count, LOC, complexity) with qualitative analysis (responsibility detection, purity), Debtmap helps teams systematically address architectural debt.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="functional-analysis.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg></span>
                            </a>

                            <a rel="next prefetch" href="multi-pass-analysis.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg></span>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="functional-analysis.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg></span>
                    </a>

                    <a rel="next prefetch" href="multi-pass-analysis.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg></span>
                    </a>
            </nav>

        </div>

        <template id=fa-eye><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM432 256c0 79.5-64.5 144-144 144s-144-64.5-144-144s64.5-144 144-144s144 64.5 144 144zM288 192c0 35.3-28.7 64-64 64c-11.5 0-22.3-3-31.6-8.4c-.2 2.8-.4 5.5-.4 8.4c0 53 43 96 96 96s96-43 96-96s-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6z"/></svg></span></template>
        <template id=fa-eye-slash><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c5.2-11.8 8-24.8 8-38.5c0-53-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zm223.1 298L373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5z"/></svg></span></template>
        <template id=fa-copy><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M502.6 70.63l-61.25-61.25C435.4 3.371 427.2 0 418.7 0H255.1c-35.35 0-64 28.66-64 64l.0195 256C192 355.4 220.7 384 256 384h192c35.2 0 64-28.8 64-64V93.25C512 84.77 508.6 76.63 502.6 70.63zM464 320c0 8.836-7.164 16-16 16H255.1c-8.838 0-16-7.164-16-16L239.1 64.13c0-8.836 7.164-16 16-16h128L384 96c0 17.67 14.33 32 32 32h47.1V320zM272 448c0 8.836-7.164 16-16 16H63.1c-8.838 0-16-7.164-16-16L47.98 192.1c0-8.836 7.164-16 16-16H160V128H63.99c-35.35 0-64 28.65-64 64l.0098 256C.002 483.3 28.66 512 64 512h192c35.2 0 64-28.8 64-64v-32h-47.1L272 448z"/></svg></span></template>
        <template id=fa-play><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"/></svg></span></template>
        <template id=fa-clock-rotate-left><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M75 75L41 41C25.9 25.9 0 36.6 0 57.9V168c0 13.3 10.7 24 24 24H134.1c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24V256c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65V152c0-13.3-10.7-24-24-24z"/></svg></span></template>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr-ef4e11c1.min.js"></script>
        <script src="mark-09e88c2c.min.js"></script>
        <script src="searcher-c2a407aa.js"></script>

        <script src="clipboard-1626706a.min.js"></script>
        <script src="highlight-abc7f01d.js"></script>
        <script src="book-a0b12cfe.js"></script>

        <!-- Custom JS scripts -->



    </div>
    </body>
</html>
